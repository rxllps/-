{% extends 'tasks/base.html' %}

{% block title %}{% if form.instance.pk %}Редактирование задачи{% else %}Создание новой задачи{% endif %} - TODO Лист{% endblock %}

{% block content %}
<h1>{% if form.instance.pk %}Редактирование задачи{% else %}Создание новой задачи{% endif %}</h1>

<form method="post">
    {% csrf_token %}
    
    <div class="form-group">
        <label for="id_title">Название задачи *</label>
        {{ form.title }}
        {% if form.title.errors %}
            <div style="color: #dc3545; font-size: 14px; margin-top: 5px;">
                {{ form.title.errors }}
            </div>
        {% endif %}
    </div>
    
    <div class="form-group">
        <label for="id_description">Описание</label>
        {{ form.description }}
        {% if form.description.errors %}
            <div style="color: #dc3545; font-size: 14px; margin-top: 5px;">
                {{ form.description.errors }}
            </div>
        {% endif %}
    </div>
    
    <div class="form-group">
        <div class="checkbox-group">
            {{ form.completed }}
            <label for="id_completed" style="margin-bottom: 0;">Задача выполнена</label>
        </div>
        {% if form.completed.errors %}
            <div style="color: #dc3545; font-size: 14px; margin-top: 5px;">
                {{ form.completed.errors }}
            </div>
        {% endif %}
    </div>
    
    <div class="form-actions">
        <button type="submit" class="btn-submit">
            {% if form.instance.pk %}Сохранить изменения{% else %}Создать задачу{% endif %}
        </button>
        <a href="{% url 'task-list' %}" class="btn-cancel">Отмена</a>
    </div>
</form>
{% endblock %}
